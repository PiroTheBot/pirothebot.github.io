<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Repository Pattern ‚Äî Learning Corner</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{font-family:'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;background:#0a0a0a;color:#e5e5e5;line-height:1.6}
h1,h2,h3{color:#fff;font-weight:600}
a{color:#00ff88;text-decoration:none}
a:hover{color:#00cc6a}
p{color:#a3a3a3}
code{font-family:'JetBrains Mono',monospace;background:#111;border-radius:6px;padding:0.15rem 0.4rem;font-size:0.9em}
pre{background:#111;border-radius:8px;padding:1.25rem;overflow-x:auto;margin:1rem 0}
pre code{background:none;padding:0;font-size:0.875rem;line-height:1.7}
.kw{color:#c084fc}
.tp{color:#93c5fd}
.fn{color:#67e8f9}
.vr{color:#fcd34d}
.str{color:#86efac}
.cm{color:#666}
.as{color:#c084fc}
.hero{text-align:center;padding:4rem 1.5rem 2rem;position:relative}
.hero::before{content:'';position:absolute;inset:0;background:radial-gradient(ellipse at top right, rgba(0,255,136,0.08),transparent 70%);pointer-events:none}
.breadcrumb{font-size:0.875rem;color:#888;margin-bottom:1.5rem;display:inline-flex;align-items:center;gap:0.5rem}
.breadcrumb:hover{color:#00ff88}
.badge{display:inline-block;padding:0.25rem 0.75rem;background:rgba(0,255,136,0.2);color:#00ff88;font-size:0.75rem;font-weight:500;border-radius:6px;margin-bottom:1rem}
h1{font-size:clamp(1.75rem,4vw,2.5rem);margin-bottom:0.5rem}
.subtitle{font-size:1.125rem;color:#888;max-width:600px;margin:0 auto 1rem}
.meta{display:flex;gap:1.5rem;font-size:0.875rem;color:#666;justify-content:center;flex-wrap:wrap}
.section{padding:2rem 1.5rem}
.container{max-width:800px;margin:0 auto}
.card{background:#1a1a1a;border:1px solid #333;border-radius:12px;padding:1.5rem;margin-bottom:1.5rem}
.card-title{font-size:1.25rem;margin-bottom:1rem;color:#00ff88}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem;margin:1.5rem 0}
.grid-item{background:#1a1a1a;border:1px solid #333;border-radius:12px;padding:1.25rem;text-align:center}
.grid-item:hover{border-color:#00ff88;transform:translateY(-2px);transition:all 0.2s}
.grid-icon{font-size:1.75rem;margin-bottom:0.75rem}
.grid-item h3{font-size:1rem;margin-bottom:0.5rem}
.grid-item p{font-size:0.875rem;color:#888}
.list{margin:1rem 0;padding-left:1.5rem}
.list li{margin-bottom:0.5rem;color:#a3a3a3}
.list li::marker{color:#00ff88}
.success{border-left:4px solid #00ff88;background:rgba(0,255,136,0.05)}
.warning{border-left:4px solid #ffd93d;background:rgba(255,217,61,0.05)}
.diagram{background:#1a1a1a;border-radius:12px;padding:2rem;text-align:center;margin:1.5rem 0}
.diagram svg{max-width:100%;height:auto}
.takeaway{display:flex;align-items:flex-start;gap:1rem;background:#1a1a1a;border:1px solid #333;border-radius:12px;padding:1rem 1.25rem;margin-bottom:0.75rem}
.takeaway-icon{color:#00ff88;font-size:1.25rem}
.footer{padding:3rem 1.5rem;text-align:center;border-top:1px solid #333}
.progress{position:fixed;top:0;left:0;width:100%;height:3px;background:#222;z-index:1000}
.progress-fill{height:100%;background:#00ff88;width:0;transition:width 0.1s}
.nav{display:flex;justify-content:space-between;padding:2rem 1.5rem 0}
.nav a{color:#888;font-size:0.875rem}
.nav a:hover{color:#00ff88}
.animate{opacity:0;transform:translateY(20px);transition:all 0.5s ease}
.animate.visible{opacity:1;transform:translateY(0)}
::-webkit-scrollbar{width:8px}
::-webkit-scrollbar-track{background:#0a0a0a}
::-webkit-scrollbar-thumb{background:#333;border-radius:4px}
::selection{background:#00ff88;color:#0a0a0a}
</style>
</head>
<body>
<div class="progress"><div class="progress-fill" id="progress"></div></div>
<section class="hero">
<div class="container">
<div class="nav"><a href="/learning/category/design-patterns.html">‚Üê Design Patterns</a></div>
<h1 class="animate" style="margin-top:1rem">The Repository Pattern</h1>
<p class="subtitle animate">Understanding how to talk to databases the clean way</p>
<span class="badge animate">Beginner</span>
<div class="meta animate">‚è±Ô∏è 10 min read</div>
</div>
</section>
<div class="container">
<section class="section">
<div class="card card-title animate">üìã Quick Summary</div>
<p class="animate" style="font-size:1.1rem;line-height:1.8">The Repository Pattern is like having a <strong style="color:#00ff88">librarian</strong> between you and the library's books. You tell the librarian what you want, and they find it for you.</p>
</section>
<section class="section animate" id="what">
<h2>‚ùì What is it?</h2>
<div class="card">
<h3 style="color:#00ff88;margin-bottom:1rem">The Library Analogy</h3>
<div class="diagram">
<svg viewBox="0 0 400 160"><ellipse cx="50" cy="35" rx="30" ry="10" fill="none" stroke="#333" stroke-width="2"/><path d="M20 35 Q20 60, 50 60 Q80 60, 80 35" fill="none" stroke="#333" stroke-width="2"/><ellipse cx="50" cy="35" rx="30" ry="10" fill="rgba(0,255,136,0.1)"/><circle cx="20" cy="35" r="4" fill="#00ff88"/><circle cx="80" cy="35" r="4" fill="#00ff88"/><line x1="25" y1="35" x2="45" y2="25" stroke="#00ff88" stroke-width="2"/><line x1="75" y1="35" x2="55" y2="25" stroke="#00ff88" stroke-width="2"/><rect x="125" y="15" width="150" height="90" rx="8" fill="#1a1a1a" stroke="#00ff88" stroke-width="2"/><circle cx="200" cy="40" r="12" fill="none" stroke="#00ff88" stroke-width="2"/><circle cx="200" cy="40" r="6" fill="#00ff88"/><text x="200" y="80" text-anchor="middle" fill="#00ff88" font-size="11" font-weight="600">REPOSITORY</text><line x1="280" y1="60" x2="310" y2="50" stroke="#4da6ff" stroke-width="2"/><rect x="315" y="30" width="60" height="50" rx="6" fill="#1a1a1a" stroke="#4da6ff" stroke-width="2"/><text x="345" y="60" text-anchor="middle" fill="#888" font-size="9">Your Code</text></svg>
</div>
<p style="text-align:center;color:#888;font-style:italic;margin-top:1rem">The <strong style="color:#00ff88">librarian (Repository)</strong> knows exactly where every book is.</p>
</div>
<div class="card">
<h3 style="color:#00ff88">Technical Definition</h3>
<p>A <strong>Repository</strong> is a layer that mediates between your domain logic and the data access layer. It abstracts database operations behind a collection-like interface.</p>
</div>
</section>
<section class="section animate" id="why">
<h2>üí° Why use it?</h2>
<div class="grid">
<div class="grid-item"><div class="grid-icon">üõ°Ô∏è</div><h3>Single Source</h3><p>All data access in one place</p></div>
<div class="grid-item"><div class="grid-icon">üß™</div><h3>Easier Testing</h3><p>Mock the repository</p></div>
<div class="grid-item"><div class="grid-icon">üîÑ</div><h3>Database Independence</h3><p>Switch DBs easily</p></div>
<div class="grid-item"><div class="grid-icon">‚ú®</div><h3>Cleaner Code</h3><p>No SQL mixed in</p></div>
</div>
</section>
<section class="section animate" id="when">
<h2>‚è∞ When to use it?</h2>
<div class="card success"><h3 style="color:#00ff88">‚úÖ Use when:</h3><ul class="list"><li>Multiple data sources (DB, API, cache)</li><li>Need unit tests without DB</li><li>Complex data access logic</li><li>Framework agnostic code</li></ul></div>
<div class="card warning"><h3 style="color:#ffd93d">‚è≥ Skip if:</h3><ul class="list"><li>Very simple CRUD</li><li>ORM already abstracts well</li><li>Rapid prototyping</li></ul></div>
</section>
<section class="section animate" id="how">
<h2>üîß How it works</h2>
<div class="card">
<h3 style="margin-bottom:1rem">1. Define the Interface</h3>
<pre><code><span class="kw">interface</span> <span class="tp">UserRepository</span> {
    <span class="fn">findById</span>(id: <span class="tp">string</span>): <span class="tp">Promise</span>&lt;<span class="tp">User</span>&gt;;
    <span class="fn">save</span>(user: <span class="tp">User</span>): <span class="tp">Promise</span>&lt;<span class="tp">void</span>&gt;;
}</code></pre>
</div>
<div class="card">
<h3 style="margin-bottom:1rem">2. Implement It</h3>
<pre><code><span class="kw">class</span> <span class="tp">PostgresRepo</span> <span class="kw">implements</span> <span class="tp">UserRepository</span> {
    <span class="kw">constructor</span>(<span class="vr">private</span> db: <span class="tp">Database</span>) {}
    <span class="as">async</span> <span class="fn">findById</span>(id) {
        <span class="kw">return await</span> <span class="vr">this</span>.db.<span class="fn">query</span>(...);
    }
}</code></pre>
</div>
<div class="card">
<h3 style="margin-bottom:1rem">3. Use in Your Code</h3>
<pre><code><span class="kw">class</span> <span class="tp">UserService</span> {
    <span class="kw">constructor</span>(<span class="vr">private</span> repo: <span class="tp">UserRepository</span>) {}
    <span class="as">async</span> <span class="fn">register</span>(email) {
        <span class="kw">const</span> exists = <span class="kw">await</span> <span class="vr">this</span>.repo.<span class="fn">findByEmail</span>(email);
    }
}</code></pre>
</div>
</section>
<section class="section animate">
<h2>üåç Real-World Example</h2>
<div class="diagram">
<svg viewBox="0 0 500 150"><rect x="20" y="50" width="80" height="40" rx="6" fill="#4da6ff"/><text x="60" y="75" text-anchor="middle" fill="white" font-size="10" font-weight="500">Controllers</text><line x1="105" y1="70" x2="125" y2="70" stroke="#4da6ff" stroke-width="2"/><rect x="130" y="50" width="80" height="40" rx="6" fill="#ffd93d"/><text x="170" y="75" text-anchor="middle" fill="#0a0a0a" font-size="10" font-weight="500">Services</text><line x1="215" y1="70" x2="235" y2="70" stroke="#ffd93d" stroke-width="2"/><rect x="240" y="50" width="100" height="40" rx="6" fill="#00ff88"/><text x="290" y="75" text-anchor="middle" fill="#0a0a0a" font-size="10" font-weight="500">Repositories</text><line x1="290" y1="95" x2="290" y2="115" stroke="#00ff88" stroke-width="2"/><ellipse cx="290" cy="135" rx="60" ry="20" fill="#1a1a1a" stroke="#333" stroke-width="2"/><text x="290" y="140" text-anchor="middle" fill="white" font-size="11">Database</text></svg>
</div>
<p style="text-align:center;color:#888">Each <strong style="color:#00ff88">Service</strong> talks only to <strong style="color:#00ff88">Repositories</strong></p>
</section>
<section class="section animate" id="takeaways">
<h2>üéØ Key Takeaways</h2>
<div class="takeaway"><span class="takeaway-icon">‚úì</span><div><strong style="color:#fff">Abstraction</strong><p style="color:#888;margin:0;font-size:0.9rem">Hides database complexity</p></div></div>
<div class="takeaway"><span class="takeaway-icon">‚úì</span><div><strong style="color:#fff">Single Responsibility</strong><p style="color:#888;margin:0;font-size:0.9rem">One repo per entity</p></div></div>
<div class="takeaway"><span class="takeaway-icon">‚úì</span><div><strong style="color:#fff">Testability</strong><p style="color:#888;margin:0;font-size:0.9rem">Mock the repository</p></div></div>
<div class="takeaway"><span class="takeaway-icon">‚úì</span><div><strong style="color:#fff">Flexibility</strong><p style="color:#888;margin:0;font-size:0.9rem">Change databases easily</p></div></div>
</section>
<footer class="footer">
<a href="/learning/category/design-patterns.html">‚Üê All Categories</a>
</footer>
</div>
<script>
window.addEventListener('scroll',()=>{const p=document.getElementById('progress'),s=document.documentElement.scrollTop,h=document.documentElement.scrollHeight-window.innerHeight;p.style.width=(s/h*100)+'%'});
const o=new IntersectionObserver(e=>{e.forEach(t=>{if(t.isIntersecting){t.target.classList.add('visible')}})},{threshold:0.1,rootMargin:'0px 0px -50px 0px'});
document.querySelectorAll('.animate').forEach(e=>o.observe(e));
</script>
</body>
</html>
